version: 2

models:
  - name: customer_account_branch_details
    description: >
      Combines customer, account, and branch information into a single view. 
      Includes basic personal data, account details, and branch location.
    tags: ['yml_customer_account_branch_details']  
    columns:
      - name: customer_id
        description: Unique identifier for each customer.
        tests:
          - not_null
          - unique

      - name: first_name
        description: Customer's first name.

      - name: last_name
        description: Customer's last name.

      - name: dob
        description: Date of birth of the customer.

      - name: email
        description: Customer's email address.
        tests:
          - not_null

      - name: phone
        description: Customer's phone number.

      - name: account_id
        description: Unique identifier for the customer's account.
        # No tests, as a customer may not have an account

      - name: account_type
        description: Type of account (e.g., savings, checking).
        tests:
          - accepted_values:
              values: ['savings', 'Fixed Deposit', 'Checking','Current']

      - name: balance
        description: Current balance in the customer's account.
        tests:
          - not_null

      - name: account_created_at
        description: Timestamp when the account was created.

      - name: branch_name
        description: Name of the bank branch associated with the account.

      - name: branch_address
        description: Address of the bank branch.
