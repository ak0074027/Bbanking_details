version: 2

models:
  - name: int_customer_loan_data
    description: "Loan data"
    tags: ['yml_int_customer_loan_data']
    columns:
      - name: Loan_ID
        tests:
          - unique         # Loan_ID must be unique
          - not_null       # Loan_ID cannot be null
      - name: Customer_ID
        tests:
          - not_null       # Customer_ID cannot be null (assuming loan must have customer)
          - relationships: # Foreign key test to Customer table
              to: ref('customer')
              field: Customer_ID
      - name: Principal_Amount
        tests:
          - not_null       # Principal Amount cannot be null
          - accepted_values:  # Principal must be >= 0 (using a custom test)
              values: ['>=0']  # Note: accepted_values is for discrete values; for range use custom test              
      - name: Email
        tests:
          - not_null


